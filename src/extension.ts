// The module 'vscode' contains the VS Code extensibility API
// Import the module and reference it with the alias vscode in your code below
import * as vscode from 'vscode';

// This method is called when your extension is activated
// Your extension is activated the very first time the command is executed
export function activate(context: vscode.ExtensionContext) {

	// Use the console to output diagnostic information (console.log) and errors (console.error)
	// This line of code will only be executed once when your extension is activated
	console.log('Congratulations, your extension "packformat-helper" is now active!');

	// The command has been defined in the package.json file
	// Now provide the implementation of the command with registerCommand
	// The commandId parameter must match the command field in package.json
	const disposable = vscode.commands.registerCommand('packformat-helper.updatePackFormat', async () => {
		// The code you place here will be executed every time your command is executed
		// Display a message box to the user


		const version = await vscode.window.showInputBox({
    prompt: 'Enter the Minecraft version',
    placeHolder: 'Format: D<version> or R<version> (e.g. D1.21.1, R1.21.1, D24w12a)',

    validateInput: (value) => {
    if (!value) {
        return 'Please enter a value';
    }

    if (!/^[DR]/.test(value)) {
        return 'For data packs, enter D as the first letter; for resource packs, enter R.';
    }

    //const numPart = value.slice(1);

    //if (!/^(\d+(\.\d+){0,2}|\d{2}w\d{2}[a-z]|\d+(\.\d+){0,2}-snapshot-\d+)$/.test(numPart)) {
    //return 'After that, please enter it in a numerical format such as 1.21.4.';
    //}

    return null;
}

});

if (version === undefined) {
    // キャンセルした場合は何もしない
    return;
}

//バージョン判定リスト
let numericVersion: number | number[] | undefined;
const typeChar = version[0];     // 1文字目が D か R 判定
const verStr = version.slice(1); // 1.21.4 などバージョン判定


// << D 用と R 用の変換リスト>>

//Dはこれ
const dataPackVersions: Record<string, number[] | number> = {
	"1.13":4,
	"1.13.1":4,
	"1.13.2":4,
	"1.14":4,
	"1.14.1":4,
	"1.14.2":4,
	"1.14.3":4,
	"1.14.4":4,
	"17w48a":4,
	"17w49a":4,
	"17w50a":4,
	"18w01a":4,
	"18w02a":4,
	"18w03a":4,
	"18w03b":4,
	"18w05a":4,
	"18w06a":4,
	"18w07a":4,
	"18w07b":4,
	"18w07c":4,
	"18w08a":4,
	"18w08b":4,
	"18w09a":4,
	"18w10a":4,
	"18w10b":4,
	"18w10c":4,
	"18w10d":4,
	"18w11a":4,
	"18w14a":4,
	"18w14b":4,
	"18w15a":4,
	"18w16a":4,
	"18w19a":4,
	"18w19b":4,
	"18w20a":4,
	"18w20b":4,
	"18w20c":4,
	"18w21a":4,
	"18w21b":4,
	"18w22a":4,
	"18w22b":4,
	"18w22c":4,
	"1.13-pre1":4,
	"1.13-pre2":4,
	"1.13-pre3":4,
	"1.13-pre4":4,
	"1.13-pre5":4,
	"1.13-pre6":4,
	"1.13-pre7":4,
	"1.13-pre8":4,
	"1.13-pre9":4,
	"1.13-pre10":4,
	"18w30a":4,
	"18w30b":4,
	"18w31a":4,
	"18w32a":4,
	"18w33a":4,
	"1.13.1-pre1":4,
	"1.13.1-pre2":4,
	"1.13.2-pre1":4,
	"1.13.2-pre2":4,
	"18w43a":4,
	"18w43b":4,
	"18w43c":4,
	"18w44a":4,
	"18w45a":4,
	"18w46a":4,
	"18w47b":4,
	"18w48a":4,
	"18w48b":4,
	"18w49a":4,
	"18w50a":4,
	"19w02a":4,
	"19w03a":4,
	"19w03b":4,
	"19w03c":4,
	"19w04a":4,
	"19w04b":4,
	"19w05a":4,
	"19w06a":4,
	"19w07a":4,
	"19w08a":4,
	"19w08b":4,
	"19w09a":4,
	"19w11a":4,
	"19w11b":4,
	"19w12a":4,
	"19w12b":4,
	"19w13a":4,
	"19w13b":4,
	"19w14a":4,
	"19w14b":4,
	"1.14 Pre-Release 1":4,
	"1.14 Pre-Release 2":4,
	"1.14 Pre-Release 3":4,
	"1.14 Pre-Release 4":4,
	"1.14 Pre-Release 5":4,
	"1.14.1 Pre-Release 1":4,
	"1.14.1 Pre-Release 2":4,
	"1.14.2 Pre-Release 1":4,
	"1.14.2 Pre-Release 2":4,
	"1.14.2 Pre-Release 3":4,
	"1.14.2 Pre-Release 4":4,
	"1.14.3-pre1":4,
	"1.14.3-pre2":4,
	"1.14.3-pre3":4,
	"1.14.3-pre4":4,
	"1.14.4-pre1":4,
	"1.14.4-pre2":4,
	"1.14.4-pre3":4,
	"1.14.4-pre4":4,
	"1.14.4-pre5":4,
	"1.14.4-pre6":4,
	"1.14.4-pre7":4,
	"19w34a":4,
	"19w35a":4,
	"19w36a":4,
	"19w37a":4,
	"19w38a":4,
	"19w38b":4,
	"19w39a":4,
	"19w40a":4,
	"19w41a":4,
	"19w42a":4,
	"19w44a":4,
	"19w45a":4,
	"19w45b":4,
	"19w46a":4,
	"19w46b":4,

	"1.15":5,
	"1.15.1":5,
	"1.15.2":5,
	"1.16":5,
	"1.16.1":5,
	"1.15-pre1":5,
	"1.15-pre2":5,
	"1.15-pre3":5,
	"1.15-pre4":5,
	"1.15-pre5":5,
	"1.15-pre6":5,
	"1.15-pre7":5,
	"1.15.1-pre1":5,
	"1.15.2-pre1":5,
	"1.15.2-pre2":5,
	"20w06a":5,
	"20w07a":5,
	"20w08a":5,
	"20w09a":5,
	"20w10a":5,
	"20w11a":5,
	"20w12a":5,
	"20w13a":5,
	"20w13b":5,
	"20w14a":5,
	"20w15a":5,
	"20w16a":5,
	"20w17a":5,
	"20w18a":5,
	"20w19a":5,
	"20w20a":5,
	"20w20b":5,
	"20w21a":5,
	"20w22a":5,
	"1.16-pre1":5,
	"1.16-pre2":5,
	"1.16-pre3":5,
	"1.16-pre4":5,
	"1.16-pre5":5,
	"1.16-pre6":5,
	"1.16-pre7":5,
	"1.16-pre8":5,
	"1.16-rc1":5,
	"20w27a":5,
	"20w28a":5,
	"20w29a":5,
	"20w30a":5,
	"1.16.2-pre1":5,
	"1.16.2-pre2":5,
	"1.16.2-pre3":5,

	"1.16.2":6,
	"1.16.3":6,
	"1.16.4":6,
	"1.16.5":6,
	"1.16.2-rc1":6,
	"1.16.2-rc2":6,
	"1.16.3-rc1":6,
	"1.16.4-pre1":6,
	"1.16.4-pre2":6,
	"1.16.4-rc1":6,

	"1.17":7,
	"1.17.1":7,
	"20w45a":7,
	"20w46a":7,
	"20w48a":7,
	"20w49a":7,
	"20w51a":7,
	"1.16.5-rc1":7,
	"21w03a":7,
	"21w05a":7,
	"21w05b":7,
	"21w06a":7,
	"21w07a":7,
	"21w08a":7,
	"21w08b":7,
	"21w10a":7,
	"21w11a":7,
	"21w13a":7,
	"21w14a":7,
	"21w15a":7,
	"21w16a":7,
	"21w17a":7,
	"21w18a":7,
	"21w19a":7,
	"21w20a":7,
	"1.17-pre1":7,
	"1.17-pre2":7,
	"1.17-pre3":7,
	"1.17-pre4":7,
	"1.17-pre5":7,
	"1.17-rc1":7,
	"1.17-rc2":7,
	"1.17.1-pre1":7,
	"1.17.1-pre2":7,
	"1.17.1-pre3":7,
	"1.17.1-rc1":7,
	"1.17.1-rc2":7,

	"1.18":8,
	"1.18.1":8,
	"21w37a":8,
	"21w38a":8,
	"21w39a":8,
	"21w40a":8,
	"21w41a":8,
	"21w42a":8,
	"21w43a":8,
	"21w44a":8,
	"1.18-pre1":8,
	"1.18-pre2":8,
	"1.18-pre3":8,
	"1.18-pre4":8,
	"1.18-pre5":8,
	"1.18-pre6":8,
	"1.18-pre7":8,
	"1.18-pre8":8,
	"1.18-rc1":8,
	"1.18-rc2":8,
	"1.18-rc3":8,
	"1.18-rc4":8,
	"1.18.1-pre1":8,
	"1.18.1-rc1":8,
	"1.18.1-rc2":8,
	"1.18.1-rc3":8,
	"22w03a":8,
	"22w05a":8,
	"22w06a":8,
	"22w07a":8,

	"1.18.2":9,
	"1.18.2-pre1":9,
	"1.18.2-pre2":9,
	"1.18.2-pre3":9,
	"1.18.2-rc1":9,

	"1.19":10,
	"1.19.1":10,
	"1.19.2":10,
	"1.19.3":10,
	"22w11a":10,
	"22w12a":10,
	"22w13a":10,
	"22w14a":10,
	"22w15a":10,
	"22w16a":10,
	"22w16b":10,
	"22w17a":10,
	"22w18a":10,
	"22w19a":10,
	"1.19-pre1":10,
	"1.19-pre2":10,
	"1.19-pre3":10,
	"1.19-pre4":10,
	"1.19-pre5":10,
	"1.19-rc1":10,
	"1.19-rc2":10,
	"22w24a":10,
	"1.19.1-pre1":10,
	"1.19.1-rc1":10,
	"1.19.1-pre2":10,
	"1.19.1-pre3":10,
	"1.19.1-pre4":10,
	"1.19.1-pre5":10,
	"1.19.1-pre6":10,
	"1.19.1-rc2":10,
	"1.19.1-rc3":10,
	"1.19.2-rc1":10,
	"1.19.2-rc2":10,
	"22w42a":10,
	"22w43a":10,
	"22w44a":10,
	"22w45a":10,
	"22w46a":10,
	"1.19.3-pre1":10,
	"1.19.3-pre2":10,
	"1.19.3-pre3":10,
	"1.19.3-rc1":10,
	"1.19.3-rc2":10,
	"1.19.3-rc3":10,

	"23w03a":11,
	"23w04a":11,
	"23w05a":11,

	"1.19.4":12,
	"23w06a":12,
	"23w07a":12,
	"1.19.4-pre1":12,
	"1.19.4-pre2":12,
	"1.19.4-pre3":12,
	"1.19.4-pre4":12,
	"1.19.4-rc1":12,
	"1.19.4-rc2":12,
	"1.19.4-rc3":12,

	"23w12a":13,
	"23w13a":13,
	"23w13a_or_b":13,
	"23w14a":13,

	"23w16a":14,
	"23w17a":14,

	"1.20":15,
	"1.20.1":15,
	"23w18a":15,
	"1.20-pre1":15,
	"1.20-pre2":15,
	"1.20-pre3":15,
	"1.20-pre4":15,
	"1.20-pre5":15,
	"1.20-pre6":15,
	"1.20-pre7":15,
	"1.20-rc1":15,
	"1.20.1-rc1":15,
	
	"23w31a":16,

	"23w32a":17,
	"23w33a":17,
	"23w35a":17,
	
	"1.20.2":18,
	"1.20.2-pre1":18,
	"1.20.2-pre2":18,
	"1.20.2-pre3":18,
	"1.20.2-pre4":18,
	"1.20.2-rc1":18,
	"1.20.2-rc2":18,

	"23w40a":19,

	"23w41a":20,

	"23w42a":21,

	"23w43a":22,
	"23w43b":22,

	"23w44a":23,

	"23w45a":24,
	
	"23w46a":25,

	"1.20.3":26,
	"1.20.4":26,
	"1.20.3-pre1":26,
	"1.20.3-pre2":26,
	"1.20.3-pre3":26,
	"1.20.3-pre4":26,
	"1.20.3-rc1":26,
	"1.20.4-rc1":26,

	"23w51a":27,
	"23w51b":27,

	"24w03a":28,
	"24w03b":28,

	"24w04a":29,

	"24w05a":30,
	"24w05b":30,

	"24w06a":31,

	"24w07a":32,

	"24w09a":33,
	
	"24w10a":34,

	"24w11a":35,

	"24w12a":36,

	"24w13a":37,

	"24w14a":38,

	"1.20.5-pre1":39,

	"1.20.5-pre2":40,

	"1.20.5":41,
	"1.20.6":41,
	"1.20.5-pre3":41,
	"1.20.5-pre4":41,
	"1.20.5-rc1":41,
	"1.20.5-rc2":41,
	"1.20.5-rc3":41,
	"1.20.6-rc1":41,

	"24w18a":42,

	"24w19a":43,
	"24w19b":43,

	"24w20a":44,
	
	"24w21a":45,
	"24w21b":45,

	"1.21-pre1":46,

	"1.21-pre2":47,

	"1.21":48,
	"1.21.1":48,
	"1.21-pre3":48,
	"1.21-pre4":48,
	"1.21-rc1":48,
	"1.21.1-rc1":48,

	"24w33a":49,

	"24w34a":50,

	"24w35a":51,

	"24a36a":52,

	"24w37a":53,

	"24w38a":54,

	"24w39a":55,

	"24w40a":56,

	"1.21.2":57,
	"1.21.3":57,
	"1.21.2-pre1":57,
	"1.21.2-pre2":57,
	"1.21.2-pre3":57,
	"1.21.2-pre4":57,
	"1.21.2-pre5":57,
	"1.21.2-rc1":57,
	"1.21.2-rc2":57,

	"24w44a":58,

	"24w45a":59,

	"24w46a":60,
	"1.21.4-pre1":60,

	"1.21.4":61,
	"1.21.4-pre2":61,
	"1.21.4-pre3":61,
	"1.21.4-rc1":61,
	"1.21.4-rc2":61,
	"1.21.4-rc3":61,

	"25w02a":62,

	"25w03a":63,

	"25w04a":64,

	"25w05a":65,

	"25w06a":66,

	"25w07a":67,

	"25w08a":68,

	"25w09a":69,
	"25w09b":69,

	"25w10a":70,
	"1.21.5-pre1":70,

	"1.21.5":70,
	"1.21.5-pre2":70,
	"1.21.5-pre3":70,
	"1.21.5-rc1":70,
	"1.21.5-rc2":70,

	"25w15a":72,

	"25w16a":73,

	"25w17a":74,

	"25w18a":75,

	"25w19a":76,

	"25w20a":77,

	"25w21a":78,

	"1.21.6-pre1":79,
	"1.21.6-pre2":79,

	"1.21.6":80,
	"1.21.6-pre3":80,
	"1.21.6-pre4":80,
	"1.21.6-rc1":80,
	"1.21.7-rc1":80,

	"1.21.7":81,
	"1.21.8":81,
	"1.21.7-rc2":81,
	"1.21.8-rc1":81,

	//ここから変更
	"25w31a":[82,0],

	"25w32a":[83,0],

	"25w33a":[83,1],

	"25w34a":[84,0],
	"25w34b":[84,0],

	"25w35a":[85,0],

	"25w36a":[86,0],
	"25w36b":[86,0],

	"25w37a":[87,0],

	"1.21.9-pre1":[87,1],

	"1.21.9":[88,0],
	"1.21.10":[88,0],
	"1.21.9-pre2":[88,0],
	"1.21.9-pre3":[88,0],
	"1.21.9-pre4":[88,0],
	"1.21.9-rc1":[88,0],
	"1.21.10-rc1":[88,0],

	"25w41a":[89,0],

	"25w42a":[90,0],

	"25w43a":[91,0],

	"25w44a":[92,0],

	"25w45a":[93,0],

	"25w46a":[93,1],

	"1.21.11-pre1":[94,0],
	"1.21.11-pre2":[94,0],
	"1.21.11-pre3":[94,0],

	"1.21.11":[94,1],
	"1.21.11-pre4":[94,1],
	"1.21.11-pre5":[94,1],
	"1.21.11-rc1":[94,1],
	"1.21.11-rc2":[94,1],
	"1.21.11-rc3":[94,1],

	"26.1-snapshot-1":[95,0],

	"26.1-snapshot-2":[96,0],

	"26.1-snapshot-3":[97,0],

	"26.1-snapshot-4":[97,1],

	"26.1-snapshot-5":[98,0],

	"26.1-snapshot-6":[99,0],

	"26.1-snapshot-7":[99,1],

	//26.02.15更新

};

//Rはこれ
const resourcePackVersions: Record<string, number[] | number> = {
	"1.6.1":1,
	"1.6.2":1,
	"1.6.4":1,
	"1.7.2":1,
	"1.7.3":1,
	"1.7.4":1,
	"1.7.5":1,
	"1.7.6":1,
	"1.7.7":1,
	"1.7.8":1,
	"1.7.9":1,
	"1.7.10":1,
	"1.8":1,
	"1.8.1":1,
	"1.8.2":1,
	"1.8.3":1,
	"1.8.4":1,
	"1.8.5":1,
	"1.8.6":1,
	"1.8.7":1,
	"1.8.8":1,
	"1.8.9":1,
	"13w24a":1,
	"13w24b":1,
	"13w25a":1,
	"13w25b":1,
	"13w25c":1,
	"13w26a":1,
	"13w36a":1,
	"13w37a":1,
	"13w37b":1,
	"1.6.3":1,
	"13w38a":1,
	"13w38b":1,
	"13w38c":1,
	"13w39a":1,
	"13w39b":1,
	"13w41a":1,
	"13w41b":1,
	"13w42a":1,
	"13w42b":1,
	"13w43a":1,
	"1.7":1,
	"1.7.1":1,
	"13w47a":1,
	"13w47b":1,
	"13w47c":1,
	"13w47d":1,
	"13w47e":1,
	"13w48a":1,
	"13w48b":1,
	"13w49a":1,
	"14w02a":1,
	"14w02b":1,
	"14w02c":1,
	"14w03a":1,
	"14w03b":1,
	"14w04a":1,
	"14w04b":1,
	"14w05a":1,
	"14w05b":1,
	"14w06a":1,
	"14w06b":1,
	"14w07a":1,
	"14w08a":1,
	"14w10a":1,
	"14w10b":1,
	"14w10c":1,
	"1.7.6-pre1":1,
	"1.7.6-pre2":1,
	"14w11a":1,
	"14w11b":1,
	"14w17a":1,
	"14w18a":1,
	"14w18b":1,
	"14w19a":1,
	"1.7.10-pre1":1,
	"1.7.10-pre2":1,
	"1.7.10-pre3":1,
	"1.7.10-pre4":1,
	"14w20a":1,
	"14w20b":1,
	"14w21a":1,
	"14w21b":1,
	"14w25a":1,
	"14w25b":1,
	"14w26a":1,
	"14w26b":1,
	"14w26c":1,
	"14w27a":1,
	"14w27b":1,
	"14w28a":1,
	"14w28b":1,
	"14w29a":1,
	"14w29b":1,
	"14w30a":1,
	"14w30b":1,
	"14w30c":1,
	"14w31a":1,
	"14w32a":1,
	"14w32b":1,
	"14w32c":1,
	"14w32d":1,
	"14w33a":1,
	"14w33b":1,
	"14w33c":1,
	"14w34a":1,
	"14w34b":1,
	"14w34c":1,
	"14w34d":1,
	"1.8-pre1":1,
	"1.8-pre2":1,
	"1.8-pre3":1,
	"1.8.1-pre1":1,
	"1.8.1-pre2":1,
	"1.8.1-pre3":1,
	"1.8.1-pre4":1,
	"1.8.1-pre5":1,
	"1.8.2-pre1":1,
	"1.8.2-pre2":1,
	"1.8.2-pre3":1,
	"1.8.2-pre4":1,
	"1.8.2-pre5":1,
	"1.8.2-pre6":1,
	"1.8.2-pre7":1,
	"15w14a":1,

	"1.9":2,
	"1.9.1":2,
	"1.9.2":2,
	"1.9.3":2,
	"1.9.4":2,
	"1.10":2,
	"1.10.1":2,
	"1.10.2":2,
	"15w31a":2,
	"15w31b":2,
	"15w31c":2,
	"15w32a":2,
	"15w32b":2,
	"15w32c":2,
	"15ww33a":2,
	"15w33b":2,
	"15w33c":2,
	"15w34a":2,
	"15w34b":2,
	"15w34c":2,
	"15w34d":2,
	"15w35a":2,
	"15w35b":2,
	"15w35c":2,
	"15w35d":2,
	"15w35e":2,
	"15w36a":2,
	"15w36b":2,
	"15w36c":2,
	"15w36d":2,
	"15w37a":2,
	"15w38a":2,
	"15w38b":2,
	"15w39a":2,
	"15w39b":2,
	"15w39c":2,
	"15w40a":2,
	"15w40b":2,
	"15w41a":2,
	"15w41b":2,
	"15w42a":2,
	"15w43a":2,
	"15w43b":2,
	"15w43c":2,
	"15w44a":2,
	"15w44b":2,
	"15w45a":2,
	"15w46a":2,
	"15w47a":2,
	"15w47b":2,
	"15w47c":2,
	"15w49a":2,
	"15w49b":2,
	"15w50a":2,
	"15w51a":2,
	"15w51b":2,
	"16w02a":2,
	"16w03a":2,
	"16w04a":2,
	"16w05a":2,
	"16w05b":2,
	"16w06a":2,
	"16w07a":2,
	"16w07b":2,
	"1.9-pre1":2,
	"1.9-pre2":2,
	"1.9-pre3":2,
	"1.9-pre4":2,
	"1.9.1-pre1":2,
	"1.9.1-pre2":2,
	"1.9.1-pre3":2,
	"16w14a":2,
	"16w15a":2,
	"16w15b":2,
	"1.9.3-pre1":2,
	"1.9.3-pre2":2,
	"1.9.3-pre3":2,
	"16w20a":2,
	"16w21a":2,
	"16w21b":2,
	"1.10-pre1":2,
	"1.10-pre2":2,

	"1.11":3,
	"1.11.1":3,
	"1.11.2":3,
	"1.12":3,
	"1.12.1":3,
	"1.12.2":3,
	"16w32a":3,
	"16w32b":3,
	"16w33a":3,
	"16w35a":3,
	"16w36a":3,
	"16w38a":3,
	"16w39a":3,
	"16w39b":3,
	"16w39c":3,
	"16w40a":3,
	"16w41a":3,
	"16w42a":3,
	"16w43a":3,
	"16w44a":3,
	"1.11-pre1":3,
	"16w50a":3,
	"17w06a":3,
	"17w13a":3,
	"17w13b":3,
	"17w14a":3,
	"17w15a":3,
	"17w16a":3,
	"17w16b":3,
	"17w17a":3,
	"17w17b":3,
	"17w18a":3,
	"17w18b":3,
	"1.12-pre1":3,
	"1.12-pre2":3,
	"1.12-pre3":3,
	"1.12-pre4":3,
	"1.12-pre5":3,
	"1.12-pre6":3,
	"1.12-pre7":3,
	"17w31a":3,
	"1.12.1-pre1":3,
	"1.12.2-pre1":3,
	"1.12.2-pre2":3,
	"17w43a":3,
	"17w43b":3,
	"17w45a":3,
	"17w45b":3,
	"17w46a":3,
	"17w47a":3,
	"17w47b":3,
	"17w48a":3,
	"17w49a":3,
	"17w49b":3,
	"17w50a":3,
	"18w01a":3,
	"18w02a":3,
	"18w03a":3,
	"18w03b":3,
	"18w05a":3,
	"18w06a":3,
	"18w07a":3,
	"18w07b":3,
	"18w07c":3,
	"18w08a":3,
	"18w08b":3,
	"18w09a":3,
	"18w10a":3,
	"18w10b":3,
	"18w10c":3,
	"18w10d":3,
	"18w11a":3,
	"18w14a":3,
	"18w14b":3,
	"18w15a":3,
	"18w16a":3,
	"18w19a":3,
	"18w19b":3,
	"18w20a":3,
	"18w20b":3,
	"18w20c":3,
	"18w21a":3,
	"18w21b":3,
	"18w22a":3,
	"18w22b":3,
	"18w22c":3,
	"1.13-pre1":3,
	"1.13-pre2":3,
	"1.13-pre3":3,
	"1.13-pre4":3,
	"1.13-pre5":3,
	"1.13-pre6":3,
	"1.13-pre7":3,
	"1.13-pre8":3,
	"1.13-pre9":3,
	"1.13-pre10":3,
	"18w30a":3,
	"18w30b":3,
	"18w31a":3,
	"18w32a":3,
	"18w33a":3,
	"1.13.1-pre1":3,
	"1.13.1-pre2":3,
	"1.13.2-pre1":3,
	"1.13.2-pre2":3,
	"18w43a":3,
	"18w43b":3,
	"18w43c":3,
	"18w44a":3,
	"18w45a":3,
	"18w46a":3,
	"18w47b":3,


	"1.13":4,
	"1.13.1":4,
	"1.13.2":4,
	"1.14":4,
	"1.14.1":4,
	"1.14.2":4,
	"1.14.3":4,
	"1.14.4":4,
	"18w48a":4,
	"18w48b":4,
	"18w49a":4,
	"18w50a":4,
	"19w02a":4,
	"19w03a":4,
	"19w03b":4,
	"19w03c":4,
	"19w04a":4,
	"19w04b":4,
	"19w05a":4,
	"19w06a":4,
	"19w07a":4,
	"19w08a":4,
	"19w08b":4,
	"19w09a":4,
	"19w11a":4,
	"19w11b":4,
	"19w12a":4,
	"19w12b":4,
	"19w13a":4,
	"19w13b":4,
	"19w14a":4,
	"19w14b":4,
	"1.14 Pre-Release 1":4,
	"1.14 Pre-Release 2":4,
	"1.14 Pre-Release 3":4,
	"1.14 Pre-Release 4":4,
	"1.14 Pre-Release 5":4,
	"1.14.1 Pre-Release 1":4,
	"1.14.1 Pre-Release 2":4,
	"1.14.2 Pre-Release 1":4,
	"1.14.2 Pre-Release 2":4,
	"1.14.2 Pre-Release 3":4,
	"1.14.2 Pre-Release 4":4,
	"1.14.3-pre1":4,
	"1.14.3-pre2":4,
	"1.14.3-pre3":4,
	"1.14.3-pre4":4,
	"1.14.4-pre1":4,
	"1.14.4-pre2":4,
	"1.14.4-pre3":4,
	"1.14.4-pre4":4,
	"1.14.4-pre5":4,
	"1.14.4-pre6":4,
	"1.14.4-pre7":4,
	"19w34a":4,
	"19w35a":4,
	"19w36a":4,
	"19w37a":4,
	"19w38a":4,
	"19w38b":4,
	"19w39a":4,
	"19w40a":4,
	"19w41a":4,
	"19w42a":4,
	"19w44a":4,
	"19w45a":4,
	"19w45b":4,
	"19w46a":4,
	"19w46b":4,

	"1.15":5,
	"1.15.1":5,
	"1.15.2":5,
	"1.16":5,
	"1.16.1":5,
	"1.15-pre1":5,
	"1.15-pre2":5,
	"1.15-pre3":5,
	"1.15-pre4":5,
	"1.15-pre5":5,
	"1.15-pre6":5,
	"1.15-pre7":5,
	"1.15.1-pre1":5,
	"1.15.2-pre1":5,
	"1.15.2-pre2":5,
	"20w06a":5,
	"20w07a":5,
	"20w08a":5,
	"20w09a":5,
	"20w10a":5,
	"20w11a":5,
	"20w12a":5,
	"20w13a":5,
	"20w13b":5,
	"20w14a":5,
	"20w15a":5,
	"20w16a":5,
	"20w17a":5,
	"20w18a":5,
	"20w19a":5,
	"20w20a":5,
	"20w20b":5,
	"20w21a":5,
	"20w22a":5,
	"1.16-pre1":5,
	"1.16-pre2":5,
	"1.16-pre3":5,
	"1.16-pre4":5,
	"1.16-pre5":5,
	"1.16-pre6":5,
	"1.16-pre7":5,
	"1.16-pre8":5,
	"1.16-rc1":5,
	"20w27a":5,
	"20w28a":5,
	"20w29a":5,
	"20w30a":5,
	"1.16.2-pre1":5,
	"1.16.2-pre2":5,
	"1.16.2-pre3":5,

	"1.16.2":6,
	"1.16.3":6,
	"1.16.4":6,
	"1.16.5":6,
	"1.16.2-rc1":6,
	"1.16.2-rc2":6,
	"1.16.3-rc1":6,
	"1.16.4-pre1":6,
	"1.16.4-pre2":6,
	"1.16.4-rc1":6,

	"1.17":7,
	"1.17.1":7,
	"20w45a":7,
	"20w46a":7,
	"20w48a":7,
	"20w49a":7,
	"20w51a":7,
	"1.16.5-rc1":7,
	"21w03a":7,
	"21w05a":7,
	"21w05b":7,
	"21w06a":7,
	"21w07a":7,
	"21w08a":7,
	"21w08b":7,
	"21w10a":7,
	"21w11a":7,
	"21w13a":7,
	"21w14a":7,
	"21w15a":7,
	"21w16a":7,
	"21w17a":7,
	"21w18a":7,
	"21w19a":7,
	"21w20a":7,
	"1.17-pre1":7,
	"1.17-pre2":7,
	"1.17-pre3":7,
	"1.17-pre4":7,
	"1.17-pre5":7,
	"1.17-rc1":7,
	"1.17-rc2":7,
	"1.17.1-pre1":7,
	"1.17.1-pre2":7,
	"1.17.1-pre3":7,
	"1.17.1-rc1":7,
	"1.17.1-rc2":7,
	"21w37a":7,
	"21w38a":7,

	"1.18":8,
	"1.18.1":8,
	"1.18.2":8,
	"21w39a":8,
	"21w40a":8,
	"21w41a":8,
	"21w42a":8,
	"21w43a":8,
	"21w44a":8,
	"1.18-pre1":8,
	"1.18-pre2":8,
	"1.18-pre3":8,
	"1.18-pre4":8,
	"1.18-pre5":8,
	"1.18-pre6":8,
	"1.18-pre7":8,
	"1.18-pre8":8,
	"1.18-rc1":8,
	"1.18-rc2":8,
	"1.18-rc3":8,
	"1.18-rc4":8,
	"1.18.1-pre1":8,
	"1.18.1-rc1":8,
	"1.18.1-rc2":8,
	"1.18.1-rc3":8,
	"22w03a":8,
	"22w05a":8,
	"22w06a":8,
	"22w07a":8,
	"1.18.2-pre1":8,
	"1.18.2-pre2":8,
	"1.18.2-pre3":8,
	"1.18.2-rc1":8,

	"1.19":9,
	"1.19.1":9,
	"1.19.2":9,
	"22w11a":9,
	"22w12a":9,
	"22w13a":9,
	"22w14a":9,
	"22w15a":9,
	"22w16a":9,
	"22w16b":9,
	"22w17a":9,
	"22w18a":9,
	"22w19a":9,
	"1.19-pre1":9,
	"1.19-pre2":9,
	"1.19-pre3":9,
	"1.19-pre4":9,
	"1.19-pre5":9,
	"1.19-rc1":9,
	"1.19-rc2":9,
	"22w24a":9,
	"1.19.1-pre1":9,
	"1.19.1-rc1":9,
	"1.19.1-pre2":9,
	"1.19.1-pre3":9,
	"1.19.1-pre4":9,
	"1.19.1-pre5":9,
	"1.19.1-pre6":9,
	"1.19.1-rc2":9,
	"1.19.1-rc3":9,
	"1.19.2-rc1":9,
	"1.19.2-rc2":9,

	"22w42a":11,
	"22w43a":11,
	"22w44a":11,

	"1.19.3":12,
	"22w45a":12,
	"22w46a":12,
	"1.19.3-pre1":12,
	"1.19.3-pre2":12,
	"1.19.3-pre3":12,
	"1.19.3-rc1":12,
	"1.19.3-rc2":12,
	"1.19.3-rc3":12,
	"23w03a":12,
	"23w04a":12,
	"23w05a":12,
	"23w06a":12,
	"23w07a":12,

	"1.19.4":13,
	"1.19.4-pre1":13,
	"1.19.4-pre2":13,
	"1.19.4-pre3":13,
	"1.19.4-pre4":13,
	"1.19.4-rc1":13,
	"1.19.4-rc2":13,
	"1.19.4-rc3":13,
	"23w12a":13,
	"23w13a":13,

	"23w14a":14,
	"23w16a":14,

	"1.20":15,
	"1.20.1":15,
	"23w17a":15,
	"23w18a":15,
	"1.20-pre1":15,
	"1.20-pre2":15,
	"1.20-pre3":15,
	"1.20-pre4":15,
	"1.20-pre5":15,
	"1.20-pre6":15,
	"1.20-pre7":15,
	"1.20-rc1":15,
	"1.20.1-rc1":15,
	
	"23w31a":16,

	"23w32a":17,
	"23w33a":17,
	"23w35a":17,
	"1.20.2-pre1":17,
	
	"1.20.2":18,
	"1.20.2-pre2":18,
	"1.20.2-pre3":18,
	"1.20.2-pre4":18,
	"1.20.2-rc1":18,
	"1.20.2-rc2":18,
	"23w40a":18,
	"23w41a":18,

	"23w42a":19,

	"23w43a":20,
	"23w43b":20,
	"23w44a":20,

	"23w45a":21,
	"23w46a":21,

	"1.20.3":22,
	"1.20.4":22,
	"1.20.3-pre1":22,
	"1.20.3-pre2":22,
	"1.20.3-pre3":22,
	"1.20.3-pre4":22,
	"1.20.3-rc1":22,
	"1.20.4-rc1":22,
	"23w51a":22,
	"23w51b":22,

	"24w03a":24,
	"24w03b":24,
	"24w04a":24,

	"24w05a":25,
	"24w05b":25,

	"24w06a":26,
	"24w07a":26,

	"24w09a":28,
	"24w10a":28,

	"24w11a":29,

	"24w12a":30,

	"24w13a":31,
	"24w14a":31,
	"1.20.5-pre1":31,
	"1.20.5-pre2":31,
	"1.20.5-pre3":31,

	"1.20.5":32,
	"1.20.6":32,
	"1.20.5-pre4":32,
	"1.20.5-rc1":32,
	"1.20.5-rc2":32,
	"1.20.5-rc3":32,
	"1.20.6-rc1":32,

	"24w18a":33,
	"24w19a":33,
	"24w19b":33,
	"24w20a":33,

	"1.21":34,
	"1.21.1":34,
	"24w21a":34,
	"24w21b":34,
	"1.21-pre1":34,
	"1.21-pre2":34,
	"1.21-pre3":34,
	"1.21-pre4":34,
	"1.21-rc1":34,
	"1.21.1-rc1":34,

	"24w33a":35,

	"24w34a":36,
	"24w35a":36,

	"24a36a":37,

	"24w37a":38,

	"24w38a":39,
	"24w39a":39,

	"24w40a":40,

	"1.21.2-pre1":41,
	"1.21.2-pre2":41,

	"1.21.2":42,
	"1.21.3":42,
	"1.21.2-pre3":42,
	"1.21.2-pre4":42,
	"1.21.2-pre5":42,
	"1.21.2-rc1":42,
	"1.21.2-rc2":42,

	"24w44a":43,

	"24w45a":44,

	"24w46a":45,

	"1.21.4":46,
	"1.21.4-pre1":46,
	"1.21.4-pre2":46,
	"1.21.4-pre3":46,
	"1.21.4-rc1":46,
	"1.21.4-rc2":46,
	"1.21.4-rc3":46,

	"25w02a":47,

	"25w03a":48,

	"25w04a":49,

	"25w05a":50,

	"25w06a":51,

	"25w07a":52,

	"25w08a":53,
	"25w09a":53,
	"25w09b":53,

	"25w10a":54,

	"1.21.5":55,
	"1.21.5-pre1":55,
	"1.21.5-pre2":55,
	"1.21.5-pre3":55,
	"1.21.5-rc1":55,
	"1.21.5-rc2":55,

	"25w15a":56,

	"25w16a":57,

	"25w17a":58,

	"25w18a":59,

	"25w19a":60,

	"25w20a":61,

	"25w21a":62,

	"1.21.6":63,
	"1.21.6-pre1":63,
	"1.21.6-pre2":63,
	"1.21.6-pre3":63,
	"1.21.6-pre4":63,
	"1.21.6-rc1":63,
	"1.21.7-rc1":63,

	"1.21.7":64,
	"1.21.8":64,
	"1.21.7-rc2":64,
	"1.21.8-rc1":64,

	//ここから変更
	"25w31a":[65,0],

	"25w32a":[65,1],

	"25w33a":[65,2],

	"25w34a":[66,0],
	"25w34b":[66,0],

	"25w35a":[67,0],

	"25w36a":[68,0],
	"25w36b":[68,0],

	"1.21.9":[69,0],
	"1.21.10":[69,0],
	"25w37a":[69,0],
	"1.21.9-pre1":[69,0],
	"1.21.9-pre2":[69,0],
	"1.21.9-pre3":[69,0],
	"1.21.9-pre4":[69,0],
	"1.21.9-rc1":[69,0],
	"1.21.10-rc1":[69,0],

	"25w41a":[70,0],

	"25w42a":[70,1],

	"25w43a":[71,0],

	"25w44a":[72,0],

	"25w45a":[73,0],

	"25w46a":[74,0],

	"1.21.11":[75,0],
	"1.21.11-pre1":[75,0],
	"1.21.11-pre2":[75,0],
	"1.21.11-pre3":[75,0],
	"1.21.11-pre4":[75,0],
	"1.21.11-pre5":[75,0],
	"1.21.11-rc1":[75,0],
	"1.21.11-rc2":[75,0],
	"1.21.11-rc3":[75,0],

	"26.1-snapshot-1":[76,0],

	"26.1-snapshot-2":[77,0],

	"26.1-snapshot-3":[78,0],

	"26.1-snapshot-4":[78,1],

	"26.1-snapshot-5":[79,0],

	"26.1-snapshot-6":[80,0],

	"26.1-snapshot-7":[81,0]

	//26.02.15更新

};

// 文字列を numericVersion に変換
numericVersion = typeChar === 'D' ? dataPackVersions[verStr] : resourcePackVersions[verStr];


// 変換リストにない場合はエラー
if (numericVersion === undefined) {
    vscode.window.showErrorMessage(`Version ${verStr} is not mapped yet`);
    return;
}

// リストから出力値を変換する
const isArrayFormat = Array.isArray(numericVersion);

let packObject: any;

if (typeChar === 'D') {
    if (isArrayFormat) {
        // 1.21.9 以降
        packObject = {
            pack: {
                description: "",
                min_format: numericVersion,
                max_format: numericVersion
            }
        };
    } else {
        // 1.21.9 より前
        packObject = {
            pack: {
                pack_format: numericVersion,
                description: ""
            }
        };
    }
}

if (typeChar === 'R') {
    if (isArrayFormat) {
        // 1.21.9 以降
        packObject = {
            pack: {
                description: "",
                min_format: numericVersion,
                max_format: numericVersion
            }
        };
    } else {
        // 1.21.9 より前
        packObject = {
            pack: {
                pack_format: numericVersion,
                description: ""
            }
        };
    }
}

// pack.mcmeta に書き込む
const editor = vscode.window.activeTextEditor;
if (!editor) {
    return;
}
const document = editor.document;
const fullRange = new vscode.Range(
    document.positionAt(0),
    document.positionAt(document.getText().length)
);

let jsonText = JSON.stringify(packObject, null, 2);
jsonText = jsonText.replace(/\[\s*(\d+),\s*(\d+)\s*\]/g, '[$1,$2]');


const edit = new vscode.WorkspaceEdit();
edit.replace(document.uri, fullRange, jsonText);
await vscode.workspace.applyEdit(edit);



// ここで numericVersion を使って処理可能
console.log(`Numeric version: ${numericVersion}`);




console.log(`Entered version: ${version}`);

	});

	context.subscriptions.push(disposable);
}

// This method is called when your extension is deactivated
export function deactivate() {}
